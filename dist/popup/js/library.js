var Library=function(t){var n={};function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";var i,o,r;e.r(n),function(t){t.TokenRequest="https://api.blip.ai/accounts/{login}/tokens",t.BotsRequest="https://api.blip.ai/applications/mine",t.MsgingCommands="https://msging.net/commands"}(i||(i={})),function(t){t.Inject="inject",t.Set="set",t.Get="get"}(o||(o={})),function(t){t.Login="login.html",t.Bots="bots.html"}(r||(r={}));var u=function(){return function(){var t=this;this.sendRequest=function(t,n,e,i){chrome.extension.sendRequest({method:t,key:n,value:e},function(t){i(t)})},this.set=function(n,e,i){t.sendRequest(o.Set,n,e,function(t){return i(t)})},this.get=function(n,e){t.sendRequest(o.Get,n,null,function(t){return e(t)})},this.inject=function(n,e){t.sendRequest(o.Inject,n,null,function(t){return e(t)})}}}(),c=function(){return function(t){var n=this;this.set=function(t){n.frameNode.src=t},this.frameNode=t}}(),s=function(){return function(){var t=this;this.isValid=function(){return new Date<t.expiration}}}(),a=function(){return function(t){var n=this;this.getBasic=function(){return btoa(n.login.Login+":"+n.login.Password)},this.getAuth=function(t){fetch(i.TokenRequest.replace(/{login}/,n.login.Login),{method:"POST",headers:{Authorization:"Basic "+n.getBasic()}}).then(function(t){return t.text()}).then(function(t){return JSON.parse(t)}).then(function(n){return t(n)}).catch(function(n){return t(!1)})},this.login=t}}(),f=function(){return function(t){var n=this;this.getUserId=function(){},this.get=function(t){fetch(i.BotsRequest,{headers:{Authorization:n.basic}}).then(function(t){return t.json()}).then(function(n){return t(n)}).catch(function(n){return t(!1)})},this.getAppKey=function(t,e){fetch(i.MsgingCommands,{method:"POST",headers:{Authorization:n.basic,"Content-Type":"application/json"},body:JSON.stringify({id:Math.random().toString(),method:o.Get,uri:"lime://msging.net/accounts/"+t})}).then(function(t){return t.json()}).then(function(n){return e(btoa(t+":"+n.resource.extras["blipchat-app-key"]))}).catch(function(t){return e(!1)})},this.basic="Basic "+t}}();e.d(n,"Store",function(){return u}),e.d(n,"Routing",function(){return c}),e.d(n,"Pages",function(){return r}),e.d(n,"BasicToken",function(){return a}),e.d(n,"BearerToken",function(){return s}),e.d(n,"Bots",function(){return f})}]);